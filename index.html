<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/ninja-icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content" />
    <title>Ninjago Math - Nauka matematyki z ninja!</title>
    <meta name="description" content="Gra edukacyjna uczƒÖca dzieci dodawania i odejmowania w ≈õwiecie Ninjago" />
    <!-- Google Fonts - Nunito (friendly) + Fredoka (fun but readable display) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <!-- EKRAN STARTOWY -->
      <div id="start-screen" class="screen">
        <div class="screen-header">
          <button id="mute-btn" class="btn btn-icon" aria-label="Wycisz d≈∫wiƒôki">üîä</button>
        </div>
        <h1 class="title">ü•∑ Ninjago Math ü•∑</h1>
        <p class="subtitle">Naucz siƒô liczyƒá z ninja!</p>
        
        <!-- Wyb√≥r postaci -->
        <section class="ninja-selection">
          <h2>Wybierz swojego ninja:</h2>
          <div id="ninja-grid" class="ninja-grid"></div>
        </section>
        
        <!-- Wyb√≥r trudno≈õci -->
        <section class="difficulty-selection">
          <h2>Poziom trudno≈õci:</h2>
          <div id="difficulty-buttons" class="difficulty-buttons"></div>
        </section>
        
        <!-- Rekord -->
        <div class="high-score-display">
          <span>üèÜ Rekord: </span>
          <span id="high-score-value">0</span>
        </div>
        
        <button id="start-btn" class="btn btn-start">Rozpocznij trening!</button>
      </div>
      
      <!-- EKRAN GRY -->
      <div id="game-screen" class="screen hidden">
        <!-- Nag≈Ç√≥wek z wynikiem -->
        <header class="game-header">
          <div class="score-display">
            <span>Punkty: </span>
            <span id="current-score">0</span>
          </div>
          <div class="streak-display">
            <span>Seria: </span>
            <span id="current-streak">0</span>
            <span>üî•</span>
          </div>
          <button id="back-btn" class="btn btn-small">‚¨Ö Menu</button>
        </header>
        
        <!-- Arena walki -->
        <div class="battle-arena">
          <!-- Gracz (ninja) -->
          <div class="fighter fighter-player">
            <div class="health-bar-container">
              <div class="health-bar health-bar-player">
                <div id="player-health-fill" class="health-fill"></div>
              </div>
              <span id="player-health-text" class="health-text">100/100</span>
            </div>
            <div id="ninja-avatar" class="ninja-avatar"></div>
            <div id="player-damage-popup" class="damage-popup"></div>
          </div>
          
          <!-- VS / Efekty walki -->
          <div class="battle-center">
            <div id="battle-effect" class="battle-effect"></div>
          </div>
          
          <!-- Wr√≥g -->
          <div class="fighter fighter-enemy">
            <div class="health-bar-container">
              <div class="health-bar health-bar-enemy">
                <div id="enemy-health-fill" class="health-fill"></div>
              </div>
              <span id="enemy-health-text" class="health-text">100/100</span>
            </div>
            <div id="enemy-avatar" class="enemy-avatar"></div>
            <div id="enemy-damage-popup" class="damage-popup"></div>
          </div>
        </div>
        
        <!-- Timer nieaktywno≈õci -->
        <div id="idle-timer" class="idle-timer">
          <div id="idle-timer-fill" class="idle-timer-fill"></div>
        </div>
        
        <!-- Zadanie matematyczne -->
        <div class="problem-container">
          <div id="problem-display" class="problem-display"></div>
        </div>
        
        <!-- Pole odpowiedzi -->
        <div class="answer-container">
          <input 
            type="number" 
            id="answer-input" 
            class="answer-input" 
            placeholder="?" 
            autocomplete="off"
            inputmode="numeric"
          />
          <button id="submit-btn" class="btn btn-submit">Sprawd≈∫!</button>
        </div>
        
        <!-- Feedback -->
        <div id="feedback" class="feedback"></div>
        
        <!-- Wiadomo≈õƒá ninja -->
        <div id="ninja-message" class="ninja-message"></div>
      </div>
      
      <!-- EKRAN GAME OVER -->
      <div id="gameover-screen" class="screen hidden">
        <h1 class="title gameover-title">üíÄ Koniec Gry üíÄ</h1>
        <div class="gameover-stats">
          <p>Zdobyte punkty: <strong id="final-score">0</strong></p>
          <p>Poprawne odpowiedzi: <strong id="final-correct">0</strong></p>
          <p>Pokonani wrogowie: <strong id="final-enemies">0</strong></p>
        </div>
        <button id="restart-btn" class="btn btn-start">Zagraj ponownie!</button>
        <button id="menu-btn" class="btn btn-small">‚¨Ö Menu g≈Ç√≥wne</button>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
