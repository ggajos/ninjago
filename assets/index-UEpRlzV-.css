:root{--ninja-kai: #C41E3A;--ninja-jay: #0047AB;--ninja-cole: #2F2F2F;--ninja-zane: #87CEEB;--ninja-lloyd: #228B22;--ninja-nya: #4169E1;--current-ninja-color: var(--ninja-lloyd);--bg-dark: #1a1a2e;--bg-medium: #16213e;--bg-light: #0f3460;--text-primary: #ffffff;--text-secondary: #b8b8b8;--accent-gold: #ffd700;--success: #4ade80;--error: #f87171;--font-main: "Nunito", "Segoe UI", system-ui, -apple-system, sans-serif;--font-display: "Bangers", "Comic Sans MS", cursive;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--radius-sm: .5rem;--radius-md: 1rem;--radius-lg: 1.5rem;--radius-full: 9999px}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;height:100%;overflow:hidden}body{font-family:var(--font-main);background:linear-gradient(135deg,var(--bg-dark) 0%,var(--bg-medium) 50%,var(--bg-light) 100%);color:var(--text-primary);min-height:100%;height:100%;line-height:1.5;overflow-y:auto;overflow-x:hidden;position:fixed;width:100%;-webkit-overflow-scrolling:touch}#app{min-height:100%;display:flex;flex-direction:column}.screen{flex:1;display:flex;flex-direction:column;align-items:center;padding:var(--space-lg);padding-bottom:env(safe-area-inset-bottom,var(--space-lg));max-width:800px;margin:0 auto;width:100%;overflow-y:auto}.hidden{display:none!important}.title{font-family:var(--font-display);font-size:clamp(2rem,8vw,3.5rem);text-align:center;background:linear-gradient(180deg,var(--accent-gold) 0%,#ff9500 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 4px 8px rgba(0,0,0,.3);margin-bottom:var(--space-sm);animation:titlePulse 2s ease-in-out infinite}@keyframes titlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.subtitle{font-size:1.25rem;color:var(--text-secondary);text-align:center;margin-bottom:var(--space-xl)}h2{font-size:1.25rem;color:var(--text-primary);margin-bottom:var(--space-md);text-align:center}.btn{font-family:var(--font-main);font-size:1.125rem;font-weight:600;padding:var(--space-md) var(--space-xl);border:none;border-radius:var(--radius-md);cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:.05em}.btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0000004d}.btn:active{transform:translateY(0)}.btn-start{background:linear-gradient(135deg,var(--current-ninja-color),#ff6b00);color:#fff;font-size:1.5rem;padding:var(--space-lg) var(--space-2xl);margin-top:var(--space-xl);animation:buttonGlow 2s ease-in-out infinite}@keyframes buttonGlow{0%,to{box-shadow:0 0 20px #ffd7004d}50%{box-shadow:0 0 40px #ffd70099}}.btn-submit{background:var(--current-ninja-color);color:#fff;min-width:120px}.btn-small{font-size:.875rem;padding:var(--space-sm) var(--space-md);background:#ffffff1a;color:var(--text-secondary)}.btn-small:hover{background:#fff3;color:var(--text-primary)}.ninja-selection{width:100%;margin-bottom:var(--space-xl)}.ninja-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:var(--space-md);max-width:600px;margin:0 auto}.ninja-card{background:#ffffff0d;border:3px solid transparent;border-radius:var(--radius-md);padding:var(--space-md);cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:var(--space-xs)}.ninja-card:hover{background:#ffffff1a;transform:scale(1.05);border-color:var(--ninja-color)}.ninja-card.selected{background:#ffffff26;border-color:var(--ninja-color);box-shadow:0 0 20px var(--ninja-color)}.ninja-card-avatar{transition:transform .3s ease}.ninja-card:hover .ninja-card-avatar{transform:rotate(-5deg) scale(1.1)}.ninja-card-name{font-weight:700;font-size:1rem;color:var(--text-primary)}.ninja-card-element{font-size:.75rem;color:var(--text-secondary)}.difficulty-selection{width:100%;margin-bottom:var(--space-lg)}.difficulty-buttons{display:flex;flex-wrap:wrap;gap:var(--space-sm);justify-content:center}.difficulty-btn{background:#ffffff0d;border:2px solid rgba(255,255,255,.2);border-radius:var(--radius-sm);padding:var(--space-md);cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;min-width:140px}.difficulty-btn:hover{background:#ffffff1a;border-color:var(--current-ninja-color)}.difficulty-btn.selected{background:var(--current-ninja-color);border-color:var(--current-ninja-color)}.difficulty-name{font-weight:700;font-size:1rem;color:var(--text-primary)}.difficulty-desc{font-size:.75rem;color:var(--text-secondary)}.difficulty-btn.selected .difficulty-desc{color:#fffc}.high-score-display{font-size:1.25rem;color:var(--accent-gold);display:flex;align-items:center;gap:var(--space-sm)}#high-score-value{font-weight:700;font-size:1.5rem}.game-header{width:100%;display:flex;justify-content:space-between;align-items:center;padding:var(--space-md);background:#0003;border-radius:var(--radius-md);margin-bottom:var(--space-lg)}.score-display,.streak-display{font-size:1.25rem;display:flex;align-items:center;gap:var(--space-xs)}#current-score,#current-streak{font-weight:700;color:var(--accent-gold);font-size:1.5rem}.ninja-avatar{margin:var(--space-lg) 0;transition:transform .3s ease}.ninja-avatar.celebrate{animation:celebrate .5s ease}.ninja-avatar.shake{animation:shake .5s ease}@keyframes celebrate{0%,to{transform:scale(1) rotate(0)}25%{transform:scale(1.2) rotate(-10deg)}50%{transform:scale(1.2) rotate(10deg)}75%{transform:scale(1.1) rotate(-5deg)}}@keyframes shake{0%,to{transform:translate(0)}20%{transform:translate(-10px)}40%{transform:translate(10px)}60%{transform:translate(-10px)}80%{transform:translate(10px)}}.problem-container{background:#ffffff1a;border-radius:var(--radius-lg);padding:var(--space-xl);margin-bottom:var(--space-lg);min-width:280px}.problem-display{font-family:var(--font-display);font-size:clamp(2rem,10vw,4rem);font-weight:700;text-align:center;color:var(--text-primary);text-shadow:0 2px 4px rgba(0,0,0,.3)}.answer-container{display:flex;gap:var(--space-md);align-items:center;margin-bottom:var(--space-lg)}.answer-input{font-family:var(--font-display);font-size:2rem;width:120px;padding:var(--space-md);text-align:center;border:3px solid var(--current-ninja-color);border-radius:var(--radius-md);background:#ffffffe6;color:var(--bg-dark);outline:none;transition:all .2s ease}.answer-input:focus{box-shadow:0 0 20px var(--current-ninja-color);transform:scale(1.05)}.answer-input.shake{animation:shake .5s ease;border-color:var(--error)}.answer-input::-webkit-outer-spin-button,.answer-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.answer-input[type=number]{-moz-appearance:textfield}.feedback{font-size:1.5rem;font-weight:700;min-height:2rem;text-align:center;transition:all .3s ease}.feedback.correct{color:var(--success);animation:popIn .3s ease}.feedback.incorrect{color:var(--error);animation:popIn .3s ease}@keyframes popIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}to{transform:scale(1);opacity:1}}.ninja-message{font-size:1.125rem;font-style:italic;text-align:center;min-height:1.5rem;padding:var(--space-md);border-radius:var(--radius-md);max-width:400px;transition:all .3s ease}.ninja-message.encouragement{background:#4ade8033;color:var(--success)}.ninja-message.comfort{background:#f8717133;color:var(--error)}@media(max-width:600px){.screen{padding:var(--space-md);padding-bottom:calc(env(safe-area-inset-bottom,0px) + var(--space-md))}.ninja-grid{grid-template-columns:repeat(3,1fr)}.ninja-card{padding:var(--space-sm)}.difficulty-buttons{flex-direction:column;align-items:stretch}.difficulty-btn{min-width:100%}.game-header{flex-wrap:wrap;gap:var(--space-sm);position:sticky;top:0;z-index:10;background:#1a1a2ef2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin:calc(-1 * var(--space-md));margin-bottom:var(--space-md);padding:var(--space-sm);border-radius:0 0 var(--radius-md) var(--radius-md)}.answer-container{flex-direction:column}.answer-input{width:100%;max-width:200px}.ninja-avatar{margin:var(--space-sm) 0}.ninja-avatar svg{width:100px;height:100px}.problem-container{padding:var(--space-md);margin-bottom:var(--space-md)}.problem-display{font-size:clamp(1.75rem,8vw,3rem)}.feedback{font-size:1.25rem}.ninja-message{font-size:1rem;padding:var(--space-sm);margin-bottom:var(--space-md)}}@media(max-height:500px)and (orientation:landscape){.ninja-avatar{display:none}.screen{padding:var(--space-sm)}.problem-container{padding:var(--space-sm);margin-bottom:var(--space-sm)}.answer-container{flex-direction:row}}@media(prefers-reduced-motion:reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}:focus-visible{outline:3px solid var(--accent-gold);outline-offset:2px}
