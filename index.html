<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/ninjago/ninja-icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content" />
    <title>Ninjago Math - Nauka matematyki z ninja!</title>
    <meta name="description" content="Gra edukacyjna uczƒÖca dzieci dodawania i odejmowania w ≈õwiecie Ninjago" />
    <!-- Google Fonts - Nunito (friendly) + Fredoka (fun but readable display) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script type="module" crossorigin src="/ninjago/assets/index-DzTMd0G7.js"></script>
    <link rel="stylesheet" crossorigin href="/ninjago/assets/index-BvbIG3W9.css">
  </head>
  <body>
    <div id="app">
      <!-- EKRAN STARTOWY -->
      <div id="start-screen" class="screen">
        <div class="screen-header">
          <button id="mute-btn" class="btn btn-icon" aria-label="Wycisz d≈∫wiƒôki">üîä</button>
          <button id="speech-btn" class="btn btn-icon" aria-label="Wy≈ÇƒÖcz g≈Ços">üó£Ô∏è</button>
        </div>
        <h1 class="title">ü•∑ Ninjago Math ü•∑</h1>
        <p class="subtitle">Naucz siƒô liczyƒá z ninja!</p>
        
        <!-- Wyb√≥r trudno≈õci (z automatycznym wyborem ninja) -->
        <section class="difficulty-selection">
          <h2>Wybierz poziom i ninja:</h2>
          <div id="difficulty-buttons" class="difficulty-buttons"></div>
        </section>
        
        <!-- Rekord -->
        <div class="high-score-display">
          <span>üèÜ Rekord: </span>
          <span id="high-score-value">0</span>
        </div>
        
        <button id="start-btn" class="btn btn-start">Rozpocznij trening!</button>
      </div>
      
      <!-- EKRAN GRY -->
      <div id="game-screen" class="screen hidden">
        <!-- Nag≈Ç√≥wek z wynikiem -->
        <header class="game-header">
          <div class="score-display">
            <span>Punkty: </span>
            <span id="current-score">0</span>
          </div>
          <div class="damage-display">
            <span>‚öîÔ∏è</span>
            <span id="current-damage">15</span>
          </div>
          <div class="enemies-display">
            <span>üíÄ</span>
            <span id="current-enemies">0</span>
          </div>
          <button id="back-btn" class="btn btn-small">‚¨Ö Menu</button>
        </header>
        
        <!-- Arena walki -->
        <div class="battle-arena">
          <!-- Gracz (ninja) -->
          <div class="fighter fighter-player">
            <div class="health-bar-container">
              <div class="health-bar health-bar-player">
                <div id="player-health-fill" class="health-fill"></div>
              </div>
              <span id="player-health-text" class="health-text">100/100</span>
            </div>
            <div id="ninja-avatar" class="ninja-avatar"></div>
            <div id="player-damage-popup" class="damage-popup"></div>
          </div>
          
          <!-- VS / Efekty walki -->
          <div class="battle-center">
            <div id="battle-effect" class="battle-effect"></div>
          </div>
          
          <!-- Wr√≥g -->
          <div class="fighter fighter-enemy">
            <div class="enemy-name-container">
              <span id="enemy-name" class="enemy-name">üíÄ Szkielet</span>
            </div>
            <div class="health-bar-container">
              <div class="health-bar health-bar-enemy">
                <div id="enemy-health-fill" class="health-fill"></div>
              </div>
              <span id="enemy-health-text" class="health-text">100/100</span>
            </div>
            <div id="enemy-avatar" class="enemy-avatar"></div>
            <div id="enemy-damage-popup" class="damage-popup"></div>
          </div>
        </div>
        
        <!-- Timer nieaktywno≈õci -->
        <div id="idle-timer" class="idle-timer">
          <div id="idle-timer-fill" class="idle-timer-fill"></div>
        </div>
        
        <!-- Zadanie matematyczne -->
        <div class="problem-container">
          <div id="problem-display" class="problem-display"></div>
        </div>
        
        <!-- Wy≈õwietlacz odpowiedzi -->
        <div class="answer-display-container">
          <div id="answer-display" class="answer-display">?</div>
        </div>
        
        <!-- Klawiatura numeryczna z akcjami po prawej -->
        <div class="keyboard-wrapper">
          <div class="numpad">
            <button class="numpad-btn" data-num="1">1</button>
            <button class="numpad-btn" data-num="2">2</button>
            <button class="numpad-btn" data-num="3">3</button>
            <button class="numpad-btn" data-num="4">4</button>
            <button class="numpad-btn" data-num="5">5</button>
            <button class="numpad-btn" data-num="6">6</button>
            <button class="numpad-btn" data-num="7">7</button>
            <button class="numpad-btn" data-num="8">8</button>
            <button class="numpad-btn" data-num="9">9</button>
            <button class="numpad-btn numpad-zero" data-num="0">0</button>
          </div>
          <div class="keyboard-actions">
            <button id="backspace-btn" class="action-btn action-backspace" aria-label="Usu≈Ñ">‚å´</button>
            <button id="attack-btn" class="action-btn action-attack" aria-label="Atakuj!">‚öîÔ∏è</button>
          </div>
        </div>
        
        <!-- Ukryty input dla kompatybilno≈õci -->
        <input type="hidden" id="answer-input" />
        
        <!-- Feedback -->
        <div id="feedback" class="feedback"></div>
        
        <!-- Wiadomo≈õƒá ninja -->
        <div id="ninja-message" class="ninja-message"></div>
      </div>
      
      <!-- EKRAN GAME OVER -->
      <div id="gameover-screen" class="screen hidden">
        <h1 class="title gameover-title">üíÄ Koniec Gry üíÄ</h1>
        <div class="gameover-stats">
          <p>Zdobyte punkty: <strong id="final-score">0</strong></p>
          <p>Poprawne odpowiedzi: <strong id="final-correct">0</strong></p>
          <p>Pokonani wrogowie: <strong id="final-enemies">0</strong></p>
        </div>
        <button id="restart-btn" class="btn btn-start">Zagraj ponownie!</button>
        <button id="menu-btn" class="btn btn-small">‚¨Ö Menu g≈Ç√≥wne</button>
      </div>

      <!-- EKRAN ZWYCIƒòSTWA -->
      <div id="victory-screen" class="screen hidden">
        <h1 class="title victory-title">üèÜ ZWYCIƒòSTWO! üèÜ</h1>
        <div class="victory-message">
          <p class="victory-hero">‚ö° MISTRZ SPINJITZU ‚ö°</p>
          <p>Pokona≈Çe≈õ Overlorda i uratowa≈Çe≈õ Ninjago!</p>
        </div>
        <div class="gameover-stats victory-stats">
          <p>Zdobyte punkty: <strong id="victory-score">0</strong></p>
          <p>Poprawne odpowiedzi: <strong id="victory-correct">0</strong></p>
          <p>Pokonani wrogowie: <strong id="victory-enemies">0</strong></p>
        </div>
        <button id="victory-restart-btn" class="btn btn-start">ü•∑ Nowa przygoda!</button>
        <button id="victory-menu-btn" class="btn btn-small">‚¨Ö Menu g≈Ç√≥wne</button>
      </div>

      <!-- MODAL KONFIGURACJI CUSTOM -->
      <div id="custom-modal" class="modal hidden">
        <div class="modal-content">
          <h2>‚öôÔ∏è W≈Çasne ustawienia</h2>
          
          <div class="custom-setting">
            <label>Maksymalny wynik dzia≈Çania:</label>
            <div class="range-display">
              <input type="range" id="custom-max-number" min="5" max="100" value="10" />
              <span id="custom-max-number-value" class="range-value">10</span>
            </div>
            <p class="setting-hint">üí° Np. dla "20" zadania to: 12+8, 15-3, 4√ó5, 18√∑2</p>
          </div>
          
          <div class="custom-setting">
            <label>Operacje matematyczne:</label>
            <div class="operator-toggles">
              <label class="operator-toggle">
                <input type="checkbox" id="op-add" checked />
                <span>+</span>
              </label>
              <label class="operator-toggle">
                <input type="checkbox" id="op-sub" checked />
                <span>‚àí</span>
              </label>
              <label class="operator-toggle">
                <input type="checkbox" id="op-mul" />
                <span>√ó</span>
              </label>
              <label class="operator-toggle">
                <input type="checkbox" id="op-div" />
                <span>√∑</span>
              </label>
            </div>
          </div>
          
          <div class="custom-setting">
            <label class="timer-toggle">
              <input type="checkbox" id="custom-no-timer" />
              <span>‚àû Bez limitu czasu</span>
            </label>
          </div>
          
          <div class="modal-buttons">
            <button id="custom-save-btn" class="btn btn-start">Zapisz</button>
            <button id="custom-cancel-btn" class="btn btn-small">Anuluj</button>
          </div>
        </div>
      </div>

      <!-- STOPKA -->
      <footer class="site-footer">
        <div class="footer-content">
          <span class="footer-author">
            ¬©
            <strong>Grzegorz Gajos</strong>
          </span>
          <span class="footer-separator">‚Ä¢</span>
          <a href="https://ggajos.com" target="_blank" rel="noopener noreferrer" class="footer-link">ggajos.com</a>
        </div>
      </footer>
    </div>
  </body>
</html>
